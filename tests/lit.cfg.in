config.name             = "@PACKAGE@"
config.test_format      = lit.formats.ShTest()
config.suffixes         = ['.c']

config.target_triple    = "@host@"
config.test_exec_root   = "@abs_builddir@"
config.test_source_root = "@abs_srcdir@"

import os, os.path

if 'LLVMCC' in os.environ:
	config.environment['LLVMCC'] = os.getenv('LLVMCC')

path = os.path.pathsep.join( ("@abs_top_builddir@/bin", config.test_source_root, config.environment['PATH']) )
config.environment['PATH'] = path

cc      = 'kint-cc1 -c -o -'
linuxcc = 'kint-cc1 -nostdinc -c -o -'
config.substitutions.append( ('%cc', cc) )
config.substitutions.append( ('%linuxcc', linuxcc) )
