config.name             = 'ksat'
config.test_format      = lit.formats.ShTest()
config.suffixes         = ['.c']

config.target_triple    = "@host@"
config.test_exec_root   = "@abs_builddir@"
config.test_source_root = "@abs_srcdir@"

import os, os.path

if 'LLVMCC' in os.environ:
	config.environment['LLVMCC'] = os.getenv('LLVMCC')

kcc = os.path.join(config.test_source_root, 'kcc')
if not os.path.exists(kcc):
	lit.fatal("kcc not found")
kcc += " -c"
config.substitutions.append( ('%kcc', kcc) )
